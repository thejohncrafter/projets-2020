
globals: test_var;

fn fact(n)
    vars: cond, n, m, val;
{
    cond <- n == (Int64, 1);
    
    if cond {
        val <- (Int64, 1);
    } else {
        m <- n - (Int64, 1);
        val <- call fact(m);
        val <- n * val;
    }

    return val;
}

fn print_test_var()
    vars: _;
{
    _ <- call native print_int(test_var);
}

fn main()
    vars: n, _;
{
    _ <- call native print_string("Hello world !");
    test_var <- call fact((Int64, 5));
    _ <- call print_test_var();
    
    test_var <- call fact((Int64, 4));
    _ <- call print_test_var();

    return (Int64, 0);
}

